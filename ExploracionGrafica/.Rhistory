theme_light()+
theme(
axis.text.x = element_text(angle=90),
)
ggsave(
path=path, filename= "NACIONALdominio_estrato_entidad_internet.pdf",
device="pdf", dpi="retina",
width=25, height=14, units="cm"
)
##Educacion
niveles <- c("Ninguno", "Preescolar", "Primaria", "Secundaria","Normal básica", "Estudio técnico", "Preparatoria", "Estudio técnico superior", "Licenciatura o ingeniería", "Especialidad", "Maestría", "Doctorado", "No sabe")
edu_internet <- read.csv(paste(base_path,"edu_estado_internet.csv", sep="")) %>%
pivot_longer(-NIVEL, values_to = "Internet", names_to = "Entidad") %>%
filter(Internet>0)
ggplot(edu_internet, aes(x=Entidad,y=factor(NIVEL), fill=Internet))+
geom_tile()+
geom_text(aes(label = paste0(round(Internet, 0),"%")), color="white", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
coord_equal()+
labs(
title = "Porcentaje de usuarios de Internet por entidad",
subtitle = "Según su último nivel de estudios",
caption = nota,
y = "Nivel", x = "Entidad", fill="% Internet"
)+
scale_y_discrete(labels=niveles)+
scale_fill_paletteer_c("ggthemes::Classic Blue")+
theme_light()+
theme(
axis.text.x = element_text(angle=90),
)
ggplot(edu_internet, aes(x=Entidad,y=factor(NIVEL), fill=Internet))+
geom_tile()+
geom_text(aes(label = paste0(round(Internet, 0),"%")), color="white", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
coord_equal()+
labs(
title = "Porcentaje de usuarios de Internet por entidad",
subtitle = "Según su último nivel de estudios",
caption = nota,
y = "Nivel", x = "Entidad", fill="% Internet"
)+
scale_y_discrete(labels=niveles)+
theme_light()+
theme(
axis.text.x = element_text(angle=90),
)
ggsave(
path=path, filename= "NACIONALedu_entidad_internet.pdf",
device="pdf", dpi="retina",
width=25, height=14, units="cm"
)
##Dominio-Estrato
estratos <- c("1"="Bajo", "2"="Medio Bajo", "3"="Medio Alto", "4"="Alto")
dominios <- c("R"="Rural", "U"="Urbano")
dom_est_idtmex <- read.csv(paste(base_path,"estrato_dominio_estado_IDTMex.csv", sep=""))
dom_est_idtmex <- dom_est_idtmex%>%
pivot_longer(-c(ESTRATO,DOMINIO), values_to = "IDTMex", names_to = "Entidad") %>%
filter(IDTMex>0) %>%
mutate(
combo = paste(unlist(lapply(DOMINIO, function(x){dominios[x]})),unlist(lapply(ESTRATO, function(x){estratos[x]})), sep="-")
)
ggplot(dom_est_idtmex, aes(x=Entidad,y=combo, fill=IDTMex))+
geom_tile()+
geom_text(aes(label = paste0(round(IDTMex, 0),"%")), color="white", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,10), oob = scales::squish)+
coord_equal()+
labs(
title = "Valor del IDTMex por entidad",
subtitle = "Según su dominio y estrato socioeconómico",
caption = nota,
y = "Dominio-Estrato", x = "Entidad", fill="IDTMex"
)+
theme_light()+
theme(
axis.text.x = element_text(angle=90),
)
ggplot(dom_est_idtmex, aes(x=Entidad,y=combo, fill=IDTMex))+
geom_tile()+
geom_text(aes(label = round(IDTMex, 1)), color="white", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,10), oob = scales::squish)+
coord_equal()+
labs(
title = "Valor del IDTMex por entidad",
subtitle = "Según su dominio y estrato socioeconómico",
caption = nota,
y = "Dominio-Estrato", x = "Entidad", fill="IDTMex"
)+
theme_light()+
theme(
axis.text.x = element_text(angle=90),
)
ggsave(
path=path, filename= "NACIONALdominio_estrato_entidad_IDTMex.pdf",
device="pdf", dpi="retina",
width=25, height=14, units="cm"
)
##Educacion
niveles <- c("Ninguno", "Preescolar", "Primaria", "Secundaria","Normal básica", "Estudio técnico", "Preparatoria", "Estudio técnico superior", "Licenciatura o ingeniería", "Especialidad", "Maestría", "Doctorado", "No sabe")
edu_idtmex <- read.csv(paste(base_path,"edu_estado_IDTMex.csv", sep=""))
edu_idtmex <- edu_idtmex %>%
pivot_longer(-NIVEL, values_to = "IDTMex", names_to = "Entidad") %>%
filter(IDTMex>0)
ggplot(edu_idtmex, aes(x=Entidad,y=factor(NIVEL), fill=IDTMex))+
geom_tile()+
geom_text(aes(label = paste0(round(ISTMex, 1),"")), color="white", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,10), oob = scales::squish)+
coord_equal()+
labs(
title = "Valor del IDTMex por entidad",
subtitle = "Según su último nivel de estudios",
caption = nota,
y = "Nivel", x = "Entidad", fill="IDTMex"
)+
scale_y_discrete(labels=niveles)+
scale_fill_paletteer_c("ggthemes::Classic Blue")+
theme_light()+
theme(
axis.text.x = element_text(angle=90),
)
ggplot(edu_idtmex, aes(x=Entidad,y=factor(NIVEL), fill=IDTMex))+
geom_tile()+
geom_text(aes(label = paste0(round(IDTMex, 1),"")), color="white", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,10), oob = scales::squish)+
coord_equal()+
labs(
title = "Valor del IDTMex por entidad",
subtitle = "Según su último nivel de estudios",
caption = nota,
y = "Nivel", x = "Entidad", fill="IDTMex"
)+
scale_y_discrete(labels=niveles)+
theme_light()+
theme(
axis.text.x = element_text(angle=90),
)
ggsave(
path=path, filename= "NACIONALedu_entidad_IDTMex.pdf",
device="pdf", dpi="retina",
width=25, height=14, units="cm"
)
pisos <- c("1"="Tierra","2"="Cemento, firme", "3"="Madera,mosaico,\notro")
# DISTRIBUCION EN LOS ESTADOS
## Relativo a grupos
grupos_estado_rel_grupo <- dcast(endutih_vivhogar, Grupo~ENT, fun.aggregate = sum, value.var = "FAC_HOG")
grupos_estado_rel_grupo[,2:33] <- grupos_estado_rel_grupo[,2:33] / rowSums(grupos_estado_rel_grupo[,2:33])
grupos_estado_rel_grupo <- grupos_estado_rel_grupo %>%
pivot_longer(-Grupo, names_to = "ENT", values_to = "FAC_HOG") %>%
filter(FAC_HOG>0)
ggplot(grupos_estado_rel_grupo, aes(as.character(ENT),as.character(Grupo), fill=FAC_HOG*100))+
geom_tile()+
geom_text(aes(label = paste0(round(FAC_HOG*100, 0),"%")), color="white", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
coord_equal()+
labs(
title = "Distribución de grupos en las entidades",
subtitle = "Relativo a los grupos",
caption = nota,
y = "Grupo", x = "Entidad", fill="%"
)+
scale_x_discrete(labels=estados$ENT)+
scale_fill_paletteer_c("ggthemes::Classic Blue")+
theme_light()+
theme(
axis.text.x = element_text(angle=90),
)
ggplot(grupos_estado_rel_grupo, aes(as.character(ENT),as.character(Grupo), fill=FAC_HOG*100))+
geom_tile()+
geom_text(aes(label = paste0(round(FAC_HOG*100, 0),"%")), color="black", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
coord_equal()+
labs(
title = "Distribución de grupos en las entidades",
subtitle = "Relativo a los grupos",
caption = nota,
y = "Grupo", x = "Entidad", fill="%"
)+
scale_x_discrete(labels=estados$ENT)+
scale_fill_paletteer_c("ggthemes::Classic Blue")+
theme_light()+
theme(
axis.text.x = element_text(angle=90),
)
ggplot(grupos_estado_rel_grupo, aes(as.character(ENT),as.character(Grupo), fill=FAC_HOG*100))+
geom_tile()+
geom_text(aes(label = paste0(round(FAC_HOG*100, 0),"%")), color="black", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
coord_equal()+
labs(
title = "Distribución de grupos en las entidades",
subtitle = "Relativo a los grupos",
caption = nota,
y = "Grupo", x = "Entidad", fill="%"
)+
scale_x_discrete(labels=estados$ENT)+
theme_light()+
theme(
axis.text.x = element_text(angle=90),
)
ggsave(
path=path, filename= "distribucion_entidad_grupos.pdf",
device="pdf", dpi="retina",
width=25, height=14, units="cm"
)
## Relativo a estados
grupos_estado_rel_edo <- dcast(endutih_vivhogar, Grupo~ENT, fun.aggregate = sum, value.var = "FAC_HOG")
grupos_estado_rel_edo[,2:33] <- t(t(grupos_estado_rel_edo[,2:33])/colSums(grupos_estado_rel_edo[,2:33]))
grupos_estado_rel_edo <- grupos_estado_rel_edo %>%
pivot_longer(-Grupo, names_to = "ENT", values_to = "FAC_HOG") %>%
filter(FAC_HOG>0)
ggplot(grupos_estado_rel_grupo, aes(as.character(ENT),as.character(Grupo), fill=FAC_HOG*100))+
geom_tile()+
geom_text(aes(label = paste0(round(100*FAC_HOGAR, 0),"%")), color="white", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
coord_equal()+
labs(
title = "Distribución de grupos en las entidades",
subtitle = "Relativo a las entidades",
caption = nota,
y = "Grupo", x = "Entidad", fill="%"
)+
scale_x_discrete(labels=estados$ENT)+
theme_light()+
theme(
axis.text.x = element_text(angle=90)
)
ggplot(grupos_estado_rel_grupo, aes(as.character(ENT),as.character(Grupo), fill=FAC_HOG*100))+
geom_tile()+
geom_text(aes(label = paste0(round(100*FAC_HOG, 0),"%")), color="white", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
coord_equal()+
labs(
title = "Distribución de grupos en las entidades",
subtitle = "Relativo a las entidades",
caption = nota,
y = "Grupo", x = "Entidad", fill="%"
)+
scale_x_discrete(labels=estados$ENT)+
theme_light()+
theme(
axis.text.x = element_text(angle=90)
)
ggplot(grupos_estado_rel_grupo, aes(as.character(ENT),as.character(Grupo), fill=FAC_HOG*100))+
geom_tile()+
geom_text(aes(label = paste0(round(100*FAC_HOG, 0),"%")), color="darkgray", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
coord_equal()+
labs(
title = "Distribución de grupos en las entidades",
subtitle = "Relativo a las entidades",
caption = nota,
y = "Grupo", x = "Entidad", fill="%"
)+
scale_x_discrete(labels=estados$ENT)+
theme_light()+
theme(
axis.text.x = element_text(angle=90)
)
ggplot(grupos_estado_rel_grupo, aes(as.character(ENT),as.character(Grupo), fill=FAC_HOG*100))+
geom_tile()+
geom_text(aes(label = paste0(round(100*FAC_HOG, 0),"%")), color="black", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
coord_equal()+
labs(
title = "Distribución de grupos en las entidades",
subtitle = "Relativo a las entidades",
caption = nota,
y = "Grupo", x = "Entidad", fill="%"
)+
scale_x_discrete(labels=estados$ENT)+
theme_light()+
theme(
axis.text.x = element_text(angle=90)
)
## Relativo a estados
grupos_estado_rel_edo <- dcast(endutih_vivhogar, Grupo~ENT, fun.aggregate = sum, value.var = "FAC_HOG")
grupos_estado_rel_edo[,2:33] <- t(t(grupos_estado_rel_edo[,2:33])/colSums(grupos_estado_rel_edo[,2:33]))
grupos_estado_rel_edo <- grupos_estado_rel_edo %>%
pivot_longer(-Grupo, names_to = "ENT", values_to = "FAC_HOG") %>%
filter(FAC_HOG>0)
ggplot(grupos_estado_rel_edo, aes(as.character(ENT),as.character(Grupo), fill=FAC_HOG*100))+
geom_tile()+
geom_text(aes(label = paste0(round(100*FAC_HOG, 0),"%")), color="black", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
coord_equal()+
labs(
title = "Distribución de grupos en las entidades",
subtitle = "Relativo a las entidades",
caption = nota,
y = "Grupo", x = "Entidad", fill="%"
)+
scale_x_discrete(labels=estados$ENT)+
theme_light()+
theme(
axis.text.x = element_text(angle=90)
)
ggsave(
path=path, filename= "distribucion_grupo_entidad.pdf",
device="pdf", dpi="retina",
width=25, height=14, units="cm"
)
# DISTRIBUCION EN LOS ESTADOS
## Relativo a grupos
grupos_trabajo_rel_grupo <- dcast(endutih_res, Grupo~P3_10, fun.aggregate = sum, value.var = "FAC_HOGAR")
grupos_trabajo_rel_grupo[,2:10] <- grupos_trabajo_rel_grupo[,2:10] / rowSums(grupos_trabajo_rel_grupo[,2:10])
grupos_trabajo_rel_grupo <- grupos_trabajo_rel_grupo %>%
pivot_longer(-Grupo, names_to = "P3_10", values_to = "FAC_HOGAR") %>%
filter(P3_10!="NA"&FAC_HOGAR>0)
ggplot(grupos_trabajo_rel_grupo, aes(y=as.character(P3_10),x=as.character(Grupo), fill=FAC_HOGAR*100))+
geom_tile()+
geom_text(aes(label = paste0(round(100*FAC_HOG, 0),"%")), color="white", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
labs(
title = "Actividad laboral en los grupos la semana pasada",
subtitle = "Relativo a los grupos",
caption = nota,
y = "Actividad Laboral", x = "Grupo", fill="%"
)+
scale_y_discrete(labels=c("Trabajó","No fue al trabajo", "Buscó trabajo", "Está jubilado", "Se dedicó a estudiar", "Quehaceres del hogar", "Limitación para trabajar", "No trabajó"))+
theme_light()+
theme(axis.text.x = element_text(angle=90))
ggplot(grupos_trabajo_rel_grupo, aes(y=as.character(P3_10),x=as.character(Grupo), fill=FAC_HOGAR*100))+
geom_tile()+
geom_text(aes(label = paste0(round(100*FAC_HOGAR, 0),"%")), color="white", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
labs(
title = "Actividad laboral en los grupos la semana pasada",
subtitle = "Relativo a los grupos",
caption = nota,
y = "Actividad Laboral", x = "Grupo", fill="%"
)+
scale_y_discrete(labels=c("Trabajó","No fue al trabajo", "Buscó trabajo", "Está jubilado", "Se dedicó a estudiar", "Quehaceres del hogar", "Limitación para trabajar", "No trabajó"))+
theme_light()+
theme(axis.text.x = element_text(angle=90))
ggplot(grupos_trabajo_rel_grupo, aes(y=as.character(P3_10),x=as.character(Grupo), fill=FAC_HOGAR*100))+
geom_tile()+
geom_text(aes(label = paste0(round(100*FAC_HOGAR, 0),"%")), color="black", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
labs(
title = "Actividad laboral en los grupos la semana pasada",
subtitle = "Relativo a los grupos",
caption = nota,
y = "Actividad Laboral", x = "Grupo", fill="%"
)+
scale_y_discrete(labels=c("Trabajó","No fue al trabajo", "Buscó trabajo", "Está jubilado", "Se dedicó a estudiar", "Quehaceres del hogar", "Limitación para trabajar", "No trabajó"))+
theme_light()+
theme(axis.text.x = element_text(angle=90))
# DISTRIBUCION EN LOS ESTADOS
## Relativo a grupos
grupos_trabajo_rel_grupo <- dcast(endutih_res, Grupo~P3_10, fun.aggregate = sum, value.var = "FAC_HOGAR")
grupos_trabajo_rel_grupo[,2:10] <- grupos_trabajo_rel_grupo[,2:10] / rowSums(grupos_trabajo_rel_grupo[,2:10])
grupos_trabajo_rel_grupo <- grupos_trabajo_rel_grupo %>%
pivot_longer(-Grupo, names_to = "P3_10", values_to = "FAC_HOGAR") %>%
filter(P3_10!="NA"&FAC_HOGAR>0)
ggplot(grupos_trabajo_rel_grupo, aes(y=as.character(P3_10),x=as.character(Grupo), fill=FAC_HOGAR*100))+
geom_tile()+
geom_text(aes(label = paste0(round(100*FAC_HOGAR, 0),"%")), color="black", size=3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
labs(
title = "Actividad laboral en los grupos la semana pasada",
subtitle = "Relativo a los grupos",
caption = nota,
y = "Actividad Laboral", x = "Grupo", fill="%"
)+
scale_y_discrete(labels=c("Trabajó","No fue al trabajo", "Buscó trabajo", "Está jubilado", "Se dedicó a estudiar", "Quehaceres del hogar", "Limitación para trabajar", "No trabajó"))+
theme_light()+
theme(axis.text.x = element_text(angle=90))
ggsave(
path=path, filename= "distribucion_grupos_trabajo.pdf",
device="pdf", dpi="retina",
width=25, height=14, units="cm"
)
# EDUCACION
## Relativo a grupos
grupos_edu_rel_grupo <- dcast(endutih_res, Grupo~NIVEL, fun.aggregate = sum, value.var = "FAC_HOGAR")
# EDUCACION
## Relativo a grupos
grupos_edu_rel_grupo <- dcast(endutih_res, Grupo~NIVEL, fun.aggregate = sum, value.var = "FAC_HOGAR")
grupos_edu_rel_grupo[,2:15] <- grupos_edu_rel_grupo[,2:15] / rowSums(grupos_edu_rel_grupo[,2:15])
grupos_edu_rel_grupo <- grupos_edu_rel_grupo %>%
pivot_longer(-Grupo, names_to = "NIVEL", values_to = "FAC_HOGAR") %>%
filter(NIVEL!="NA" & FAC_HOGAR>0)
ggplot(grupos_edu_rel_grupo, aes(y=as.character(NIVEL),x=as.character(Grupo), fill=FAC_HOGAR*100))+
geom_tile()+
geom_text(aes(label = paste0(round(100*FAC_HOGAR, 0),"%")), color="black", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
labs(
title = "Último nivel de estudio en los grupos",
subtitle = "Relativo a los grupos",
caption = nota,
y = "Nivel Educativo", x = "Grupo", fill="%"
)+
scale_y_discrete(labels=c("Ninguno", "Preescolar", "Primaria", "Secundaria","Normal básica", "Estudio técnico", "Preparatoria", "Estudio técnico superior", "Licenciatura o ingeniería", "Especialidad", "Maestría", "Doctorado", "No sabe"))+
theme_light()+
theme(axis.text.x = element_text(angle=90))
ggsave(
path=path, filename= "distribucion_grupos_edu.pdf",
device="pdf", dpi="retina",
width=25, height=14, units="cm"
)
compu_edu <- endutih_usu[endutih_usu$P6_6_3==1, c("UPM", "VIV_SEL", "HOGAR","NUM_REN", "FAC_PER")] %>%
merge(endutih_res[, c("UPM", "VIV_SEL", "HOGAR","NUM_REN", "NIVEL","Grupo")]) %>%
dcast(Grupo~NIVEL, fun.aggregate = sum, value.var = "FAC_PER") %>%
select(-c("99"))
compu_edu[,2:13] <- compu_edu[,2:13]/ rowSums(compu_edu[,2:13])
compu_edu <- compu_edu %>%
pivot_longer(-Grupo, names_to = "NIVEL", values_to = "FAC_PER") %>%
filter(NIVEL!="NA" & FAC_PER>0)
ggplot(compu_edu, aes(y=as.character(NIVEL),x=as.character(Grupo), fill=FAC_PER*100))+
geom_tile()+
geom_text(aes(label = paste0(round(100*FAC_HOGAR, 0),"%")), color="black", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
labs(
title = "Último nivel de estudio en los grupos",
subtitle = "Usuarios que aprendieron a usar la computadora en la escuela",
caption = nota,
y = "Nivel Educativo", x = "Grupo", fill="%"
)+
scale_y_discrete(labels=c("Ninguno", "Preescolar", "Primaria", "Secundaria","Normal básica", "Estudio técnico", "Preparatoria", "Estudio técnico superior", "Licenciatura o ingeniería", "Especialidad", "Maestría", "Doctorado", "No sabe"))+
theme_light()+
theme(axis.text.x = element_text(angle=90))
ggplot(compu_edu, aes(y=as.character(NIVEL),x=as.character(Grupo), fill=FAC_PER*100))+
geom_tile()+
geom_text(aes(label = paste0(round(100*FAC_PER, 0),"%")), color="black", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
labs(
title = "Último nivel de estudio en los grupos",
subtitle = "Usuarios que aprendieron a usar la computadora en la escuela",
caption = nota,
y = "Nivel Educativo", x = "Grupo", fill="%"
)+
scale_y_discrete(labels=c("Ninguno", "Preescolar", "Primaria", "Secundaria","Normal básica", "Estudio técnico", "Preparatoria", "Estudio técnico superior", "Licenciatura o ingeniería", "Especialidad", "Maestría", "Doctorado", "No sabe"))+
theme_light()+
theme(axis.text.x = element_text(angle=90))
ggsave(
path=path, filename= "grupos_edu_compu.pdf",
device="pdf", dpi="retina",
width=25, height=14, units="cm"
)
Internet_grupo_edo <-  read.csv(paste(base_path,"grupo_ent_internet.csv",sep=""))%>%
pivot_longer(-c(Grupo),names_to = "ENT", values_to = "Internet") %>%
filter(Internet>0)
ggplot(Internet_grupo_edo, aes(x=ENT, y=factor(Grupo), fill=Internet))+
geom_tile()+
geom_text(aes(label = paste0(round(Internet, 0),"%")), color="white", size=2.3) +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,100), oob = scales::squish)+
labs(
title = "Usuarios de Internet en los grupos por entidad",
caption = nota,
y = "Grupo", x = "Entidad", fill="Internet"
)+
#scale_y_discrete(labels=c("Ninguno", "Preescolar", "Primaria", "Secundaria","Normal básica", "Estudio técnico", "Preparatoria", "Estudio técnico superior", "Licenciatura o ingeniería", "Especialidad", "Maestría", "Doctorado", "No sabe"))+
theme_light()+
theme(axis.text.x = element_text(angle=90))
ggsave(
path=path, filename= "Internet_edo_grupo.pdf",
device="pdf", dpi="retina",
width=25, height=14, units="cm"
)
IDTMex_grupo_edo <- IDTMex_grupo_edo %>%
pivot_longer(-c(ESTRATO,Grupo),names_to = "ENT", values_to = "IDTMex") %>%
filter(IDTMex>0)
ggplot(IDTMex_grupo_edo, aes(x=ENT, y=factor(Grupo), fill=IDTMex))+
geom_tile()+
geom_text(aes(label = round(IDTMex, 1)), color="white") +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,10), oob = scales::squish)+
labs(
title = "Valor del IDTMex en los grupos por entidad",
caption = nota,
y = "Grupo", x = "Entidad", fill="IDTMex"
)+
#scale_y_discrete(labels=c("Ninguno", "Preescolar", "Primaria", "Secundaria","Normal básica", "Estudio técnico", "Preparatoria", "Estudio técnico superior", "Licenciatura o ingeniería", "Especialidad", "Maestría", "Doctorado", "No sabe"))+
theme_light()+
theme(axis.text.x = element_text(angle=90))
ggsave(
path=path, filename= "IDTMex_edo_grupo.pdf",
device="pdf", dpi="retina",
width=25, height=14, units="cm"
)
IDTMex_dominio_grupo_edo <- IDTMex_dominio_grupo_edo %>%
pivot_longer(-c(ESTRATO,Grupo,DOMINIO),names_to = "ENT", values_to = "IDTMex") %>%
filter(IDTMex>0)
IDTMex_dominio_grupo_edo <- IDTMex_dominio_grupo_edo %>%
pivot_longer(-c(ESTRATO,Grupo,DOMINIO),names_to = "ENT", values_to = "IDTMex") %>%
filter(IDTMex>0)
IDTMex_dominio_grupo_edo <- IDTMex_dominio_grupo_edo %>%
pivot_longer(-c(ESTRATO,Grupo,DOMINIO),names_to = "ENT", values_to = "IDTMex") %>%
filter(IDTMex>0)
View(IDTMex_dominio_grupo_edo)
IDTMex_dominio_grupo_edo["DOMGRUPO"] <- paste(str_replace(
str_replace(IDTMex_dominio_grupo_edo$DOMINIO,"R","Rural"),
"U","Urbano"
), IDTMex_dominio_grupo_edo$Grupo, sep = "-"
)
View(IDTMex_dominio_grupo_edo)
ggplot(IDTMex_dominio_grupo_edo, aes(x=ENT, y=factor(DOMGRUPO), fill=IDTMex))+
geom_tile()+
geom_text(aes(label = round(IDTMex, 1)), color="white") +
scale_fill_paletteer_c("ggthemes::Classic Blue",limits=range(0,10), oob = scales::squish)+
labs(
title = "Valor del IDTMex en los grupos por entidad",
caption = nota,
y = "Dominio-Grupo", x = "Entidad", fill="IDTMex"
)+
#scale_y_discrete(labels=c("Ninguno", "Preescolar", "Primaria", "Secundaria","Normal básica", "Estudio técnico", "Preparatoria", "Estudio técnico superior", "Licenciatura o ingeniería", "Especialidad", "Maestría", "Doctorado", "No sabe"))+
theme_light()+
theme(axis.text.x = element_text(angle=90))
ggsave(
path=path, filename= "IDTMex_edo_dominio_grupo.pdf",
device="pdf", dpi="retina",
width=25, height=14, units="cm"
)
